{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\nimport { findUpUntil } from './dom';\n/**\n * Checks whether the given node (target) belongs to the container.\n * The function is similar to nodeContains but also accounts for dropdowns with expandToViewport=true.\n *\n * @param container Container node\n * @param target Node that is checked to be a descendant of the container\n */\nexport function nodeBelongs(container, target) {\n  var _a;\n  if (!(target instanceof Node)) {\n    return false;\n  }\n  const portal = findUpUntil(target, node => node === container || node instanceof HTMLElement && !!node.dataset.awsuiReferrerId);\n  if (portal && portal === container) {\n    // We found the container as a direct ancestor without a portal\n    return true;\n  }\n  const referrer = portal instanceof HTMLElement ? document.getElementById((_a = portal.dataset.awsuiReferrerId) !== null && _a !== void 0 ? _a : '') : null;\n  return referrer ? nodeContains(container, referrer) : nodeContains(container, target);\n}","map":{"version":3,"names":["nodeContains","findUpUntil","nodeBelongs","container","target","Node","portal","node","HTMLElement","dataset","awsuiReferrerId","referrer","document","getElementById","_a"],"sources":["/Users/dootano/Desktop/thetekshow-demo-app/node_modules/src/internal/utils/node-belongs.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { nodeContains } from '@cloudscape-design/component-toolkit/dom';\n\nimport { findUpUntil } from './dom';\n\n/**\n * Checks whether the given node (target) belongs to the container.\n * The function is similar to nodeContains but also accounts for dropdowns with expandToViewport=true.\n *\n * @param container Container node\n * @param target Node that is checked to be a descendant of the container\n */\nexport function nodeBelongs(container: Node | null, target: Node | EventTarget | null): boolean {\n  if (!(target instanceof Node)) {\n    return false;\n  }\n  const portal = findUpUntil(\n    target as HTMLElement,\n    node => node === container || (node instanceof HTMLElement && !!node.dataset.awsuiReferrerId)\n  );\n  if (portal && portal === container) {\n    // We found the container as a direct ancestor without a portal\n    return true;\n  }\n  const referrer = portal instanceof HTMLElement ? document.getElementById(portal.dataset.awsuiReferrerId ?? '') : null;\n  return referrer ? nodeContains(container, referrer) : nodeContains(container, target);\n}\n"],"mappings":"AAAA;AACA;AAEA,SAASA,YAAY,QAAQ,0CAA0C;AAEvE,SAASC,WAAW,QAAQ,OAAO;AAEnC;;;;;;;AAOA,OAAM,SAAUC,WAAWA,CAACC,SAAsB,EAAEC,MAAiC;;EACnF,IAAI,EAAEA,MAAM,YAAYC,IAAI,CAAC,EAAE;IAC7B,OAAO,KAAK;;EAEd,MAAMC,MAAM,GAAGL,WAAW,CACxBG,MAAqB,EACrBG,IAAI,IAAIA,IAAI,KAAKJ,SAAS,IAAKI,IAAI,YAAYC,WAAW,IAAI,CAAC,CAACD,IAAI,CAACE,OAAO,CAACC,eAAgB,CAC9F;EACD,IAAIJ,MAAM,IAAIA,MAAM,KAAKH,SAAS,EAAE;IAClC;IACA,OAAO,IAAI;;EAEb,MAAMQ,QAAQ,GAAGL,MAAM,YAAYE,WAAW,GAAGI,QAAQ,CAACC,cAAc,CAAC,CAAAC,EAAA,GAAAR,MAAM,CAACG,OAAO,CAACC,eAAe,cAAAI,EAAA,cAAAA,EAAA,GAAI,EAAE,CAAC,GAAG,IAAI;EACrH,OAAOH,QAAQ,GAAGX,YAAY,CAACG,SAAS,EAAEQ,QAAQ,CAAC,GAAGX,YAAY,CAACG,SAAS,EAAEC,MAAM,CAAC;AACvF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}