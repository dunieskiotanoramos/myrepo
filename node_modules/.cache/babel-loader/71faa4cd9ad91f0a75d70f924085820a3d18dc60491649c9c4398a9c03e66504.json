{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport debounce from '../../debounce';\nexport class DrawersController {\n  constructor() {\n    this.drawers = [];\n    this.drawersRegistrationListener = null;\n    this.scheduleUpdate = debounce(() => {\n      var _a;\n      (_a = this.drawersRegistrationListener) === null || _a === void 0 ? void 0 : _a.call(this, this.drawers);\n    }, 0);\n    this.registerDrawer = config => {\n      this.drawers = this.drawers.concat(config);\n      this.scheduleUpdate();\n    };\n    this.onDrawersRegistered = listener => {\n      if (this.drawersRegistrationListener !== null) {\n        console.warn('[AwsUi] [runtime drawers] multiple app layout instances detected');\n      }\n      this.drawersRegistrationListener = listener;\n      this.scheduleUpdate();\n      return () => {\n        this.drawersRegistrationListener = null;\n      };\n    };\n    this.clearRegisteredDrawers = () => {\n      this.drawers = [];\n    };\n  }\n  installPublic(api = {}) {\n    var _a;\n    (_a = api.registerDrawer) !== null && _a !== void 0 ? _a : api.registerDrawer = this.registerDrawer;\n    return api;\n  }\n  installInternal(internalApi = {}) {\n    var _a, _b;\n    (_a = internalApi.clearRegisteredDrawers) !== null && _a !== void 0 ? _a : internalApi.clearRegisteredDrawers = this.clearRegisteredDrawers;\n    (_b = internalApi.onDrawersRegistered) !== null && _b !== void 0 ? _b : internalApi.onDrawersRegistered = this.onDrawersRegistered;\n    return internalApi;\n  }\n}","map":{"version":3,"names":["debounce","DrawersController","constructor","drawers","drawersRegistrationListener","scheduleUpdate","_a","call","registerDrawer","config","concat","onDrawersRegistered","listener","console","warn","clearRegisteredDrawers","installPublic","api","installInternal","internalApi","_b"],"sources":["/Users/dootano/Desktop/thetekshow-demo-app/node_modules/src/internal/plugins/controllers/drawers.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport debounce from '../../debounce';\nimport { NonCancelableEventHandler } from '../../events';\n\nexport interface DrawerConfig {\n  id: string;\n  ariaLabels: {\n    content?: string;\n    closeButton?: string;\n    triggerButton?: string;\n    resizeHandle?: string;\n  };\n  badge?: boolean;\n  resizable?: boolean;\n  defaultSize?: number;\n  onResize?: NonCancelableEventHandler<{ size: number; id: string }>;\n  orderPriority?: number;\n  defaultActive?: boolean;\n  trigger: {\n    iconSvg: string;\n  };\n  mountContent: (container: HTMLElement) => void;\n  unmountContent: (container: HTMLElement) => void;\n}\n\nexport type DrawersRegistrationListener = (drawers: Array<DrawerConfig>) => void;\n\nexport interface DrawersApiPublic {\n  registerDrawer(config: DrawerConfig): void;\n}\n\nexport interface DrawersApiInternal {\n  clearRegisteredDrawers(): void;\n  onDrawersRegistered(listener: DrawersRegistrationListener): () => void;\n}\n\nexport class DrawersController {\n  private drawers: Array<DrawerConfig> = [];\n  private drawersRegistrationListener: DrawersRegistrationListener | null = null;\n\n  scheduleUpdate = debounce(() => {\n    this.drawersRegistrationListener?.(this.drawers);\n  }, 0);\n\n  registerDrawer = (config: DrawerConfig) => {\n    this.drawers = this.drawers.concat(config);\n    this.scheduleUpdate();\n  };\n\n  onDrawersRegistered = (listener: DrawersRegistrationListener) => {\n    if (this.drawersRegistrationListener !== null) {\n      console.warn('[AwsUi] [runtime drawers] multiple app layout instances detected');\n    }\n    this.drawersRegistrationListener = listener;\n    this.scheduleUpdate();\n    return () => {\n      this.drawersRegistrationListener = null;\n    };\n  };\n\n  clearRegisteredDrawers = () => {\n    this.drawers = [];\n  };\n\n  installPublic(api: Partial<DrawersApiPublic> = {}): DrawersApiPublic {\n    api.registerDrawer ??= this.registerDrawer;\n    return api as DrawersApiPublic;\n  }\n\n  installInternal(internalApi: Partial<DrawersApiInternal> = {}): DrawersApiInternal {\n    internalApi.clearRegisteredDrawers ??= this.clearRegisteredDrawers;\n    internalApi.onDrawersRegistered ??= this.onDrawersRegistered;\n    return internalApi as DrawersApiInternal;\n  }\n}\n"],"mappings":"AAAA;AACA;AACA,OAAOA,QAAQ,MAAM,gBAAgB;AAmCrC,OAAM,MAAOC,iBAAiB;EAA9BC,YAAA;IACU,KAAAC,OAAO,GAAwB,EAAE;IACjC,KAAAC,2BAA2B,GAAuC,IAAI;IAE9E,KAAAC,cAAc,GAAGL,QAAQ,CAAC,MAAK;;MAC7B,CAAAM,EAAA,OAAI,CAACF,2BAA2B,cAAAE,EAAA,uBAAAA,EAAA,CAAAC,IAAA,OAAG,IAAI,CAACJ,OAAO,CAAC;IAClD,CAAC,EAAE,CAAC,CAAC;IAEL,KAAAK,cAAc,GAAIC,MAAoB,IAAI;MACxC,IAAI,CAACN,OAAO,GAAG,IAAI,CAACA,OAAO,CAACO,MAAM,CAACD,MAAM,CAAC;MAC1C,IAAI,CAACJ,cAAc,EAAE;IACvB,CAAC;IAED,KAAAM,mBAAmB,GAAIC,QAAqC,IAAI;MAC9D,IAAI,IAAI,CAACR,2BAA2B,KAAK,IAAI,EAAE;QAC7CS,OAAO,CAACC,IAAI,CAAC,kEAAkE,CAAC;;MAElF,IAAI,CAACV,2BAA2B,GAAGQ,QAAQ;MAC3C,IAAI,CAACP,cAAc,EAAE;MACrB,OAAO,MAAK;QACV,IAAI,CAACD,2BAA2B,GAAG,IAAI;MACzC,CAAC;IACH,CAAC;IAED,KAAAW,sBAAsB,GAAG,MAAK;MAC5B,IAAI,CAACZ,OAAO,GAAG,EAAE;IACnB,CAAC;EAYH;EAVEa,aAAaA,CAACC,GAAA,GAAiC,EAAE;;IAC/C,CAAAX,EAAA,GAAAW,GAAG,CAACT,cAAc,cAAAF,EAAA,cAAAA,EAAA,GAAlBW,GAAG,CAACT,cAAc,GAAK,IAAI,CAACA,cAAc;IAC1C,OAAOS,GAAuB;EAChC;EAEAC,eAAeA,CAACC,WAAA,GAA2C,EAAE;;IAC3D,CAAAb,EAAA,GAAAa,WAAW,CAACJ,sBAAsB,cAAAT,EAAA,cAAAA,EAAA,GAAlCa,WAAW,CAACJ,sBAAsB,GAAK,IAAI,CAACA,sBAAsB;IAClE,CAAAK,EAAA,GAAAD,WAAW,CAACR,mBAAmB,cAAAS,EAAA,cAAAA,EAAA,GAA/BD,WAAW,CAACR,mBAAmB,GAAK,IAAI,CAACA,mBAAmB;IAC5D,OAAOQ,WAAiC;EAC1C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}