{"ast":null,"code":"import { __rest } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\nimport { InternalButton } from '../button/internal';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent } from '../internal/events';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { createWidgetizedComponent } from '../internal/widgets';\nimport { BreadcrumbItem } from './item/item';\nimport { getEventDetail } from './utils';\nimport styles from './styles.css.js';\n/**\n * Provided for backwards compatibility\n */\nconst DEFAULT_EXPAND_ARIA_LABEL = 'Show path';\nconst getDropdownTrigger = ({\n  ariaLabel,\n  triggerRef,\n  disabled,\n  testUtilsClass,\n  isOpen,\n  onClick\n}) => {\n  return React.createElement(InternalButton, {\n    ref: triggerRef,\n    className: testUtilsClass,\n    disabled: disabled,\n    onClick: event => {\n      event.preventDefault();\n      onClick();\n    },\n    ariaExpanded: isOpen,\n    \"aria-haspopup\": true,\n    ariaLabel: ariaLabel,\n    variant: \"breadcrumb-group\",\n    formAction: \"none\"\n  }, \"...\");\n};\nconst EllipsisDropdown = ({\n  ariaLabel,\n  dropdownItems,\n  onDropdownItemClick,\n  onDropdownItemFollow\n}) => {\n  var _a;\n  const i18n = useInternalI18n('breadcrumb-group');\n  return React.createElement(\"li\", {\n    className: styles.ellipsis\n  }, React.createElement(InternalButtonDropdown, {\n    ariaLabel: (_a = i18n('expandAriaLabel', ariaLabel)) !== null && _a !== void 0 ? _a : DEFAULT_EXPAND_ARIA_LABEL,\n    items: dropdownItems,\n    onItemClick: onDropdownItemClick,\n    onItemFollow: onDropdownItemFollow,\n    customTriggerBuilder: getDropdownTrigger\n  }), React.createElement(\"span\", {\n    className: styles.icon\n  }, React.createElement(InternalIcon, {\n    name: \"angle-right\"\n  })));\n};\nexport function BreadcrumbGroupImplementation(_a) {\n  var {\n      items = [],\n      ariaLabel,\n      expandAriaLabel,\n      onClick,\n      onFollow,\n      __internalRootRef\n    } = _a,\n    props = __rest(_a, [\"items\", \"ariaLabel\", \"expandAriaLabel\", \"onClick\", \"onFollow\", \"__internalRootRef\"]);\n  for (const item of items) {\n    checkSafeUrl('BreadcrumbGroup', item.href);\n  }\n  const baseProps = getBaseProps(props);\n  const isMobile = useMobile();\n  let breadcrumbItems = items.map((item, index) => {\n    const isLast = index === items.length - 1;\n    return React.createElement(\"li\", {\n      className: styles.item,\n      key: index\n    }, React.createElement(BreadcrumbItem, {\n      item: item,\n      onClick: onClick,\n      onFollow: onFollow,\n      isCompressed: isMobile,\n      isLast: isLast,\n      isDisplayed: !isMobile || isLast || index === 0\n    }));\n  });\n  const getEventItem = e => {\n    const {\n      id\n    } = e.detail;\n    return items[parseInt(id)];\n  };\n  // Add ellipsis\n  if (breadcrumbItems.length >= 2) {\n    const dropdownItems = items.slice(1, items.length - 1).map((item, index) => ({\n      id: (index + 1).toString(),\n      text: item.text,\n      href: item.href || '#'\n    }));\n    breadcrumbItems = [breadcrumbItems[0], React.createElement(EllipsisDropdown, {\n      key: 'ellipsis',\n      ariaLabel: expandAriaLabel,\n      dropdownItems: dropdownItems,\n      onDropdownItemClick: e => fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e),\n      onDropdownItemFollow: e => fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e)\n    }), ...breadcrumbItems.slice(1)];\n  }\n  return React.createElement(\"nav\", Object.assign({}, baseProps, {\n    className: clsx(styles['breadcrumb-group'], isMobile && styles.mobile, items.length <= 2 && styles['mobile-short'], baseProps.className),\n    \"aria-label\": ariaLabel || undefined,\n    ref: __internalRootRef\n  }), React.createElement(\"ol\", {\n    className: styles['breadcrumb-group-list']\n  }, breadcrumbItems));\n}\nexport const createWidgetizedBreadcrumbGroup = createWidgetizedComponent(BreadcrumbGroupImplementation);","map":{"version":3,"names":["React","clsx","InternalButton","InternalButtonDropdown","useInternalI18n","InternalIcon","getBaseProps","fireCancelableEvent","useMobile","checkSafeUrl","createWidgetizedComponent","BreadcrumbItem","getEventDetail","styles","DEFAULT_EXPAND_ARIA_LABEL","getDropdownTrigger","ariaLabel","triggerRef","disabled","testUtilsClass","isOpen","onClick","createElement","ref","className","event","preventDefault","ariaExpanded","variant","formAction","EllipsisDropdown","dropdownItems","onDropdownItemClick","onDropdownItemFollow","i18n","ellipsis","_a","items","onItemClick","onItemFollow","customTriggerBuilder","icon","name","BreadcrumbGroupImplementation","expandAriaLabel","onFollow","__internalRootRef","props","__rest","item","href","baseProps","isMobile","breadcrumbItems","map","index","isLast","length","key","isCompressed","isDisplayed","getEventItem","e","id","detail","parseInt","slice","toString","text","Object","assign","mobile","undefined","createWidgetizedBreadcrumbGroup"],"sources":["/Users/dootano/Desktop/thetekshow-demo-app/node_modules/src/breadcrumb-group/implementation.tsx"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport clsx from 'clsx';\n\nimport { InternalButton } from '../button/internal';\nimport { CustomTriggerProps, LinkItem } from '../button-dropdown/interfaces';\nimport InternalButtonDropdown from '../button-dropdown/internal';\nimport { useInternalI18n } from '../i18n/context';\nimport InternalIcon from '../icon/internal';\nimport { getBaseProps } from '../internal/base-component';\nimport { fireCancelableEvent } from '../internal/events';\nimport { useMobile } from '../internal/hooks/use-mobile';\nimport { checkSafeUrl } from '../internal/utils/check-safe-url';\nimport { createWidgetizedComponent } from '../internal/widgets';\nimport { BreadcrumbGroupProps, EllipsisDropdownProps, InternalBreadcrumbGroupProps } from './interfaces';\nimport { BreadcrumbItem } from './item/item';\nimport { getEventDetail } from './utils';\n\nimport styles from './styles.css.js';\n\n/**\n * Provided for backwards compatibility\n */\nconst DEFAULT_EXPAND_ARIA_LABEL = 'Show path';\n\nconst getDropdownTrigger = ({\n  ariaLabel,\n  triggerRef,\n  disabled,\n  testUtilsClass,\n  isOpen,\n  onClick,\n}: CustomTriggerProps) => {\n  return (\n    <InternalButton\n      ref={triggerRef}\n      className={testUtilsClass}\n      disabled={disabled}\n      onClick={event => {\n        event.preventDefault();\n        onClick();\n      }}\n      ariaExpanded={isOpen}\n      aria-haspopup={true}\n      ariaLabel={ariaLabel}\n      variant=\"breadcrumb-group\"\n      formAction=\"none\"\n    >\n      ...\n    </InternalButton>\n  );\n};\n\nconst EllipsisDropdown = ({\n  ariaLabel,\n  dropdownItems,\n  onDropdownItemClick,\n  onDropdownItemFollow,\n}: EllipsisDropdownProps) => {\n  const i18n = useInternalI18n('breadcrumb-group');\n\n  return (\n    <li className={styles.ellipsis}>\n      <InternalButtonDropdown\n        ariaLabel={i18n('expandAriaLabel', ariaLabel) ?? DEFAULT_EXPAND_ARIA_LABEL}\n        items={dropdownItems}\n        onItemClick={onDropdownItemClick}\n        onItemFollow={onDropdownItemFollow}\n        customTriggerBuilder={getDropdownTrigger}\n      />\n      <span className={styles.icon}>\n        <InternalIcon name=\"angle-right\" />\n      </span>\n    </li>\n  );\n};\n\nexport function BreadcrumbGroupImplementation<T extends BreadcrumbGroupProps.Item = BreadcrumbGroupProps.Item>({\n  items = [],\n  ariaLabel,\n  expandAriaLabel,\n  onClick,\n  onFollow,\n  __internalRootRef,\n  ...props\n}: InternalBreadcrumbGroupProps<T>) {\n  for (const item of items) {\n    checkSafeUrl('BreadcrumbGroup', item.href);\n  }\n  const baseProps = getBaseProps(props);\n  const isMobile = useMobile();\n\n  let breadcrumbItems = items.map((item, index) => {\n    const isLast = index === items.length - 1;\n\n    return (\n      <li className={styles.item} key={index}>\n        <BreadcrumbItem\n          item={item}\n          onClick={onClick}\n          onFollow={onFollow}\n          isCompressed={isMobile}\n          isLast={isLast}\n          isDisplayed={!isMobile || isLast || index === 0}\n        />\n      </li>\n    );\n  });\n\n  const getEventItem = (e: CustomEvent<{ id: string }>) => {\n    const { id } = e.detail;\n    return items[parseInt(id)];\n  };\n\n  // Add ellipsis\n  if (breadcrumbItems.length >= 2) {\n    const dropdownItems: Array<LinkItem> = items\n      .slice(1, items.length - 1)\n      .map((item: BreadcrumbGroupProps.Item, index: number) => ({\n        id: (index + 1).toString(), // the first item doesn't get inside dropdown\n        text: item.text,\n        href: item.href || '#',\n      }));\n\n    breadcrumbItems = [\n      breadcrumbItems[0],\n      <EllipsisDropdown\n        key={'ellipsis'}\n        ariaLabel={expandAriaLabel}\n        dropdownItems={dropdownItems}\n        onDropdownItemClick={e => fireCancelableEvent(onClick, getEventDetail(getEventItem(e)), e)}\n        onDropdownItemFollow={e => fireCancelableEvent(onFollow, getEventDetail(getEventItem(e)), e)}\n      />,\n      ...breadcrumbItems.slice(1),\n    ];\n  }\n\n  return (\n    <nav\n      {...baseProps}\n      className={clsx(\n        styles['breadcrumb-group'],\n        isMobile && styles.mobile,\n        items.length <= 2 && styles['mobile-short'],\n        baseProps.className\n      )}\n      aria-label={ariaLabel || undefined}\n      ref={__internalRootRef}\n    >\n      <ol className={styles['breadcrumb-group-list']}>{breadcrumbItems}</ol>\n    </nav>\n  );\n}\n\nexport const createWidgetizedBreadcrumbGroup = createWidgetizedComponent(BreadcrumbGroupImplementation);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}