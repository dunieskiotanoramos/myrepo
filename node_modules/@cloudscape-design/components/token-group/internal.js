import { __rest } from "tslib";
// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import React, { useState } from 'react';
import clsx from 'clsx';
import { getBaseProps } from '../internal/base-component';
import Option from '../internal/components/option';
import TokenList from '../internal/components/token-list';
import { fireNonCancelableEvent } from '../internal/events';
import checkControlled from '../internal/hooks/check-controlled';
import { Token } from './token';
import styles from './styles.css.js';
export default function InternalTokenGroup(_a) {
    var { alignment, items, onDismiss, limit, i18nStrings, disableOuterPadding, limitShowFewerAriaLabel, limitShowMoreAriaLabel, readOnly, __internalRootRef } = _a, props = __rest(_a, ["alignment", "items", "onDismiss", "limit", "i18nStrings", "disableOuterPadding", "limitShowFewerAriaLabel", "limitShowMoreAriaLabel", "readOnly", "__internalRootRef"]);
    checkControlled('TokenGroup', 'items', items, 'onDismiss', onDismiss);
    const [removedItemIndex, setRemovedItemIndex] = useState(null);
    const baseProps = getBaseProps(props);
    const hasItems = items.length > 0;
    return (React.createElement("div", Object.assign({}, baseProps, { className: clsx(baseProps.className, styles.root, hasItems && styles['has-items'], disableOuterPadding && styles['no-padding']), ref: __internalRootRef }),
        React.createElement(TokenList, { alignment: alignment, items: items, limit: limit, renderItem: (item, itemIndex) => (React.createElement(Token, { ariaLabel: item.label, dismissLabel: item.dismissLabel, onDismiss: () => {
                    fireNonCancelableEvent(onDismiss, { itemIndex });
                    setRemovedItemIndex(itemIndex);
                }, disabled: item.disabled, readOnly: readOnly },
                React.createElement(Option, { option: item, isGenericGroup: false }))), i18nStrings: i18nStrings, limitShowFewerAriaLabel: limitShowFewerAriaLabel, limitShowMoreAriaLabel: limitShowMoreAriaLabel, moveFocusNextToIndex: removedItemIndex, onExpandedClick: isExpanded => {
                if (isExpanded && limit) {
                    setRemovedItemIndex(limit);
                }
                else {
                    setRemovedItemIndex(null);
                }
            } })));
}
//# sourceMappingURL=internal.js.map